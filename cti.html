<!DOCTYPE html>

<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Exp√©dition : INTER CTI</title>
<style>
#notif {
  position: fixed;
  bottom: 24px;
  left: 24px;
  background: #1a1a1a;
  color: #00bfff;
  padding: 12px 24px;
  border-radius: 12px;
  font-size: 14px;
  font-weight: bold;
  box-shadow: 0 0 12px rgba(0,191,255,0.4);
  opacity: 0;
  transition: opacity 0.4s ease;
  z-index: 1000;
}
#notif.show {
  opacity: 1;
}





body {
  background-color: #0e0e0e;
  font-family: 'Segoe UI', sans-serif;
  color: white;
  padding: 40px;
}

h1 {
  text-align: center;
  color: #00bfff;
  font-size: 2em;
  margin-bottom: 30px;
  text-shadow: 0 0 10px #00bfff88;
}

button {
  background-color: #00bfff;
  color: white;
  padding: 12px 24px;
  font-size: 15px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  margin: 8px;
  box-shadow: 0 0 10px #00bfff88;
  transition: 0.3s;
}

button:hover {
  transform: scale(1.05);
  box-shadow: 0 0 16px #00bfffcc;
}




input, textarea, select {
  width: 100%;
  padding: 12px;
  margin-top: 6px;
  margin-bottom: 20px;
  border-radius: 10px;
  border: 1px solid #00bfff;
  background-color: #1a1a1a;
  color: #e0f7fa;
  font-size: 15px;
  transition: border 0.3s ease;
}

input:focus, textarea:focus, select:focus {
  border: 1px solid #4fc3f7;
  outline: none;
}

button {
  background-color: #1a1a1a;
  color: #00bfff;
  font-weight: bold;
  border: 1px solid #00bfff;
  padding: 12px 24px;
  font-size: 15px;
  border-radius: 12px;
  cursor: pointer;
  margin: 8px;
  box-shadow: 0 0 12px #00bfff55;
  transition: all 0.3s ease;
}

button:hover {
  background-color: #111;
  color: #fff;
  box-shadow: 0 0 18px #00bfffaa;
}

.switch-wrapper {
  margin-top: 10px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.switch-label {
  font-weight: bold;
  color: #00bfff;
  font-size: 15px;
}

.switch-modern {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 26px;
}
.switch-modern input {
  opacity: 0;
  width: 0;
  height: 0;
}
.slider-modern {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #333;
  transition: 0.4s;
  border-radius: 26px;
}
.slider-modern:before {
  position: absolute;
  content: "";
  height: 20px;
  width: 20px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  transition: 0.4s;
  border-radius: 50%;
}
.switch-modern input:checked + .slider-modern {
  background-color: #00bfff;
}
.switch-modern input:checked + .slider-modern:before {
  transform: translateX(24px);
}



.glow-card {
  background: #1f1f1f;
  margin: 40px auto;
  padding: 30px 40px;
  border-radius: 20px;
  box-shadow: 0 0 25px rgba(0,191,255,0.3);
  max-width: 900px;
}
</style><style>
body {
  background-color: #0e0e0e;
  font-family: 'Segoe UI', sans-serif;
  color: white;
  padding: 40px;
}

h1 {
  text-align: center;
  color: #00bfff;
  font-size: 2em;
  margin-bottom: 30px;
  text-shadow: 0 0 10px #00bfff88;
}

button {
  background-color: #00bfff;
  color: white;
  padding: 12px 24px;
  font-size: 15px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  margin: 8px;
  box-shadow: 0 0 10px #00bfff88;
  transition: 0.3s;
}

button:hover {
  transform: scale(1.05);
  box-shadow: 0 0 16px #00bfffcc;
}




input, textarea, select {
  width: 100%;
  padding: 12px;
  margin-top: 6px;
  margin-bottom: 20px;
  border-radius: 10px;
  border: 1px solid #00bfff;
  background-color: #1a1a1a;
  color: #e0f7fa;
  font-size: 15px;
  transition: border 0.3s ease;
}

input:focus, textarea:focus, select:focus {
  border: 1px solid #4fc3f7;
  outline: none;
}

button {
  background-color: #1a1a1a;
  color: #00bfff;
  font-weight: bold;
  border: 1px solid #00bfff;
  padding: 12px 24px;
  font-size: 15px;
  border-radius: 12px;
  cursor: pointer;
  margin: 8px;
  box-shadow: 0 0 12px #00bfff55;
  transition: all 0.3s ease;
}

button:hover {
  background-color: #111;
  color: #fff;
  box-shadow: 0 0 18px #00bfffaa;
}

.switch-wrapper {
  margin-top: 10px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.switch-label {
  font-weight: bold;
  color: #00bfff;
  font-size: 15px;
}

.switch-modern {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 26px;
}
.switch-modern input {
  opacity: 0;
  width: 0;
  height: 0;
}
.slider-modern {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #333;
  transition: 0.4s;
  border-radius: 26px;
}
.slider-modern:before {
  position: absolute;
  content: "";
  height: 20px;
  width: 20px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  transition: 0.4s;
  border-radius: 50%;
}
.switch-modern input:checked + .slider-modern {
  background-color: #00bfff;
}
.switch-modern input:checked + .slider-modern:before {
  transform: translateX(24px);
}

</style></head>
<body style="background-color:#121212; color:#fff; font-family:sans-serif; margin:0;">
<div class="glow-card"><div class="modale-wrapper">
<div style="text-align: center; margin-top: -10px; margin-bottom: 30px;">
  <span style="display: inline-block; background: rgba(0,191,255,0.08); padding: 12px 24px; border-radius: 12px; box-shadow: 0 0 8px rgba(0,191,255,0.4); color: #aee4ff; font-size: 15px;">
    üî∑ Ce g√©n√©rateur de mail est destin√© aux envois de mat√©riel entre CTI Tibco, que ce soit pour le PMU ou tout autre client.
  </span>
</div>

<h1>üì¶ Exp√©dition : INTER CTI</h1>
<div class="row">
<div>
<label for="intervention">üìå N¬∞ Intervention :</label>
<input id="intervention" placeholder="Ex. E1234567" type="text"/>
</div>
<div>
<label for="serie">üîí Num√©ro de s√©rie :</label>
<input id="serie" placeholder="Ex. S/N123456" type="text"/>
</div>
</div>
<div class="row">
<div>
<label for="bon">üöö Bon de transport :</label>
<input id="bon" placeholder="Ex. TNT123456" type="text"/>
</div>
<div>
<label for="destination">üéØ Destination :</label>
<input id="destination" placeholder="Ex. Coordination PMU" type="text"/>
</div>
</div>
<div class="toggle-wrapper">

<div class="switch-wrapper">
  <span class="switch-label">üë§ Nom</span>
  <label class="switch-modern">
    <input id="toggleNom" onchange="toggleField('nom')" type="checkbox"/>
    <span class="slider-modern"></span>
  </label>
</div>

</div>
<div class="hidden-field" id="container-nom"><input class="styled-switch-field" id="nom" placeholder="Ex. Niellini" type="text"/>
</div>
<div class="toggle-wrapper">

<div class="switch-wrapper">
  <span class="switch-label">üîê Identifiant Tibco</span>
  <label class="switch-modern">
    <input id="toggleIdentifiant" onchange="toggleField('identifiant')" type="checkbox"/>
    <span class="slider-modern"></span>
  </label>
</div>

</div>
<div class="hidden-field" id="container-identifiant"><input class="styled-switch-field" id="identifiant" placeholder="Ex. 24891" type="text"/>
</div>
<label for="texte-entete">‚úèÔ∏è Texte d'en-t√™te :</label>
<textarea id="texte-entete" rows="4">Bonjour,<br/>üòä Merci de bien vouloir proc√©der √† l‚Äôexp√©dition suivante.<br/>Le mat√©riel est pr√™t √† √™tre pris en charge par le transporteur (TNT).</textarea>
<div class="actions">
<button class="btn" onclick="genererMail()">üì® G√©n√©rer</button>
<button class="btn" onclick="copierMail()">üìã Copier le mail</button>
<button class="btn" onclick="telechargerMail()">üíæ T√©l√©charger</button>
</div>
<div class="mail-preview" id="preview" style="margin-top: 2rem;"></div>
<script>
    function toggleField(id) {
      const container = document.getElementById('container-' + id);
      const checkbox = document.getElementById('toggle' + capitalize(id));
      container.style.display = checkbox.checked ? 'block' : 'none';
    }

    function capitalize(str) {
      return str.charAt(0).toUpperCase() + str.slice(1);
    }

    window.onload = () => {
      document.getElementById('toggleNom').checked = false;
      document.getElementById('toggleIdentifiant').checked = false;
      toggleField('nom');
      toggleField('identifiant');
    }

    function genererMail() {
      const nom = document.getElementById('nom').value.trim();
      const identifiant = document.getElementById('identifiant').value.trim();
      const intervention = document.getElementById('intervention').value.trim();
      const serie = document.getElementById('serie').value.trim();
      const bon = document.getElementById('bon').value.trim();
      const destination = document.getElementById('destination').value.trim();
      const texte = document.getElementById('texte-entete').value.trim().replace(/\n/g, '<br>');

      let html = `
        <div style="width:560px;background:#1c1f26;border:1px solid #4fc3f7;box-shadow:0 0 20px #4fc3f7;padding:2rem;border-radius:18px;color:#e0e6ed;margin:auto;font-family:Segoe UI,sans-serif;overflow:hidden;box-sizing:border-box;"color:#e0e6ed;padding:2rem;border-radius:20px;border:2px solid #4fc3f7;box-shadow:0 0 30px #4fc3f799;">
          <p>${texte}</p>
          <table style="width:94%;margin:auto;border-collapse:collapse;table-layout:fixed;border:1px solid #4fc3f7;border-radius:12px;overflow:hidden;">
            <tbody>
              ${intervention ? `<tr><th style="background:#2e3a46;color:#4fc3f7;text-align:left;padding:10px;">üìå N¬∞ Intervention</th><td style="background:#262b33;padding:10px;">${intervention}</td></tr>` : ''}
              ${serie ? `<tr><th style="background:#2e3a46;color:#4fc3f7;text-align:left;padding:10px;">üîí Num√©ro de s√©rie</th><td style="background:#262b33;padding:10px;">${serie}</td></tr>` : ''}
              ${bon ? `<tr><th style="background:#2e3a46;color:#4fc3f7;text-align:left;padding:10px;">üöö Bon de transport</th><td style="background:#262b33;padding:10px;">${bon}</td></tr>` : ''}
              ${destination ? `<tr><th style="background:#2e3a46;color:#4fc3f7;text-align:left;padding:10px;">üéØ Destination</th><td style="background:#262b33;padding:10px;">${destination}</td></tr>` : ''}
              ${document.getElementById('toggleNom').checked ? `<tr><th style="background:#2e3a46;color:#4fc3f7;text-align:left;padding:10px;">üë§ Nom</th><td style="background:#262b33;padding:10px;">${nom || '(non renseign√©)'}</td></tr>` : ''}
              ${document.getElementById('toggleIdentifiant').checked ? `<tr><th style="background:#2e3a46;color:#4fc3f7;text-align:left;padding:10px;">üîê Identifiant Tibco</th><td style="background:#262b33;padding:10px;">${identifiant || '(non renseign√©)'}</td></tr>` : ''}
            </tbody>
          </table>
          <p style="margin-top:1rem">Merci pour le traitement <span style="font-size:1.2em">üôè</span></p>
        </div>`;

      document.getElementById('preview').innerHTML = html;
    }

    function copierMail() {
      const preview = document.getElementById('preview');
      const styles = Array.from(document.querySelectorAll('style')).map(s => s.innerHTML).join("\n");
      const html = `<html style="overflow-y:hidden;"><head><style>
body {
  background-color: #0e0e0e;
  font-family: 'Segoe UI', sans-serif;
  color: white;
  padding: 40px;
}

h1 {
  text-align: center;
  color: #00bfff;
  font-size: 2em;
  margin-bottom: 30px;
  text-shadow: 0 0 10px #00bfff88;
}

button {
  background-color: #00bfff;
  color: white;
  padding: 12px 24px;
  font-size: 15px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  margin: 8px;
  box-shadow: 0 0 10px #00bfff88;
  transition: 0.3s;
}

button:hover {
  transform: scale(1.05);
  box-shadow: 0 0 16px #00bfffcc;
}




input, textarea, select {
  width: 100%;
  padding: 12px;
  margin-top: 6px;
  margin-bottom: 20px;
  border-radius: 10px;
  border: 1px solid #00bfff;
  background-color: #1a1a1a;
  color: #e0f7fa;
  font-size: 15px;
  transition: border 0.3s ease;
}

input:focus, textarea:focus, select:focus {
  border: 1px solid #4fc3f7;
  outline: none;
}

button {
  background-color: #1a1a1a;
  color: #00bfff;
  font-weight: bold;
  border: 1px solid #00bfff;
  padding: 12px 24px;
  font-size: 15px;
  border-radius: 12px;
  cursor: pointer;
  margin: 8px;
  box-shadow: 0 0 12px #00bfff55;
  transition: all 0.3s ease;
}

button:hover {
  background-color: #111;
  color: #fff;
  box-shadow: 0 0 18px #00bfffaa;
}

.switch-wrapper {
  margin-top: 10px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.switch-label {
  font-weight: bold;
  color: #00bfff;
  font-size: 15px;
}

.switch-modern {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 26px;
}
.switch-modern input {
  opacity: 0;
  width: 0;
  height: 0;
}
.slider-modern {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #333;
  transition: 0.4s;
  border-radius: 26px;
}
.slider-modern:before {
  position: absolute;
  content: "";
  height: 20px;
  width: 20px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  transition: 0.4s;
  border-radius: 50%;
}
.switch-modern input:checked + .slider-modern {
  background-color: #00bfff;
}
.switch-modern input:checked + .slider-modern:before {
  transform: translateX(24px);
}

</style></head><body style="background-color:#121212; color:#fff; font-family:sans-serif; margin:0;">
<div class="glow-card">${preview.outerHTML}
<div id="notif">‚úÖ Mail copi√© avec style !</div>
</div>
</body></html>`;
      const blob = new Blob([html], { type: 'text/html' });
      const item = new ClipboardItem({ 'text/html': blob });
      navigator.clipboard.write([item]).then(() => showNotif("‚úÖ Mail copi√© avec style !"));
    }

    function telechargerMail() {
      const preview = document.getElementById('preview');
      const html = `<!DOCTYPE html><html style="overflow-y:hidden;"><body style="background-color:#121212; color:#fff; font-family:sans-serif; margin:0;">
<div class="glow-card">${preview.outerHTML}
<div id="notif">‚úÖ Mail copi√© avec style !</div>
</div>
</body></html>`;
      const blob = new Blob([html], { type: "text/html" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "mail_inter_cti.html";
      a.click();
      URL.revokeObjectURL(url);
    }
  
function showNotif(message) {
  const notif = document.getElementById("notif");
  notif.textContent = message;
  notif.classList.add("show");
  setTimeout(() => {
    notif.classList.remove("show");
  }, 2000);
}

</script>
</div>
<div class="notification hidden" id="notif">‚úÖ Action r√©alis√©e avec succ√®s !</div>
<script>
function showNotif(message) {
  const notif = document.getElementById("notif");
  notif.textContent = message;
  notif.style.display = "block";
  setTimeout(() => {
    notif.style.display = "none";
  }, 2500);
}, 2500);
}, 2000);
}

// Attacher showNotif √† la fonction de copie
document.addEventListener("DOMContentLoaded", () => {
  const copyBtn = document.getElementById("copy-button");
  if (copyBtn) {
    copyBtn.addEventListener("click", () => {
      const mail = document.getElementById("mail-preview");
      const range = document.createRange();
      range.selectNodeContents(mail);
      const selection = window.getSelection();
      selection.removeAllRanges();
      selection.addRange(range);
      try {
        document.execCommand("copy");
    showNotif("‚úÖ Mail copi√© avec style !");
    showNotif("‚úÖ Mail copi√© avec style !");
      showNotif("‚úÖ Mail copi√© avec style !");
        showNotif("‚úÖ Mail copi√© avec style !");
      } catch (err) {
        showNotif("‚ùå √âchec de la copie");
      }
      selection.removeAllRanges();
    });
  }
});

function showNotif(message) {
  const notif = document.getElementById("notif");
  notif.textContent = message;
  notif.classList.add("show");
  setTimeout(() => {
    notif.classList.remove("show");
  }, 2000);
}

</script>

<div id="notif">‚úÖ Mail copi√© avec style !</div>
</div>
</body>
</html>
